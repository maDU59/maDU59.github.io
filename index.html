<!DOCTYPE html>
<html lang="en">

  <head>
    <title>maDU59_'s website</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="index.css">
  </head>

  <body>
    <header class="centered-category top-padding">
      <div class="flex flex-row border-box align-left">
          <div class="border-box spacing w-70 m-w-70" style="margin-top: 60px">
            <h1 style="font-family: Arial, Helvetica, sans-serif;" id="Title"></h1>
            <h2 id="About me"></h2>
          </div>
          <div class="border-box w-30">
              <img class = "fade-in" style="width:100%;border-radius: 50%;" src="images/pfp.png">
          </div>
      </div>
    </header>

    <section id="Android games" class="light-red bottom-padding">
      <div class="centered-category top-padding" style="margin-top: 60px"> 
        <h1 id=“android-games”>My Android games:</h1>
        <div class="horizontal-scroll flex flex-row align-left"> 
          <div class="game-presentation-box padding-top">
                <a href="https://play.google.com/store/apps/details?id=com.maDU59.MiniDrift"><img class="game-icon hover-effect" src="https://play-lh.googleusercontent.com/3AQg2VUZIrMVMWJ68bilOTslXCbnK3uvih0E2LZIK6dMYSfQixktbcorRJkzJEskb0Iq=w480-h960-rw"></a>
                <a href="https://play.google.com/store/apps/details?id=com.maDU59.MiniDrift"><h3 style="text-align: center;">Mini Drift</h3></a>
                <p style="text-align: center;">Small Android drifting game made with Unity in C#</p>
          </div>
          <div class="game-presentation-box">
                <a href="https://play.google.com/store/apps/details?id=flappyfishwear.app"><img class="game-icon hover-effect" src="https://play-lh.googleusercontent.com/RiZF3yPE8g4Clwcg1n5x1HcwiflKqop64jw6FpWGpboFpRqn1-giE1-nt1x6plfYmvoG=w480-h960-rw"></a>
                <a href="https://play.google.com/store/apps/details?id=flappyfishwear.app"><h3 style="text-align: center;">Flappy Fish Wear</h3></a>
                <p style="text-align: center;">Small WearOs game made with Android Studio in Java</p>
          </div>
        </div>
        <button type="button" class="collapsible"><h2>More about my android games:</h2></button>
        <div class="content">
          <p><a class="obvious-link" href="https://play.google.com/store/apps/dev?id=8504354424409738389">My Play Store developper's page</a></p>
        </div>
      </div>
    </section>

    <section id="Minecraft mods" class="light-yellow bottom-padding">
      <div class="centered-category top-padding"> 
        <h1 id=“minecraft-mods”>My Minecraft mods:</h1>
        <div class="horizontal-scroll flex flex-row"> 
          <div class="game-presentation-box">
                <a href="https://modrinth.com/mod/ptp"><img class="game-icon hover-effect" src="https://raw.githubusercontent.com/maDU59/ProjectilesTrajectoryPreview/1.21/src/main/resources/assets/ptp/icon.png"></a>
                <a href="https://modrinth.com/mod/ptp"><h3 style="text-align: center;">Projectile Trajectory Preview</h3></a>
                <p style="text-align: center;">Utility and QOL mod</p>
                <p class = "links-field"><a href="https://modrinth.com/mod/ptp">Modrinth</a> | <a href="https://www.curseforge.com/minecraft/mc-mods/ptp">CurseForge</a> | <a href="https://github.com/maDU59/ProjectilesTrajectoryPreview">Github</a></p>
          </div>
          <div class="game-presentation-box">
            <a href="https://modrinth.com/mod/better-compass-hud"><img class="game-icon hover-effect" src="https://raw.githubusercontent.com/maDU59/BetterCompass/main/src/main/resources/assets/better-compass/icon.png"></a>
            <a href="https://modrinth.com/mod/better-compass-hud"><h3 style="text-align: center;">Better Compass</h3></a>
            <p style="text-align: center;">Utility and QOL mod</p>
            <p class = "links-field"><a href="https://modrinth.com/mod/better-compass-hud">Modrinth</a> | <a href="https://www.curseforge.com/minecraft/mc-mods/better-compass-hud">CurseForge</a> | <a href="https://github.com/maDU59/BetterCompass">Github</a></p>
          </div>
        </div>
        <button type="button" class="collapsible"><h2>More about my minecraft mods:</h2></button>
        <div class="content">
          <p>Number of downloads: <span id="total-downloads">Loading...</span></p>
          <p><a class="obvious-link" href="https://modrinth.com/user/maDU59_">My Modrinth page</a></p>
          <p><a class="obvious-link" href="https://www.curseforge.com/members/madu59_">My Curseforge page</a></p>
        </div>
      </div>
    </section>

    <section id="Scratch projects" class="light-blue">
      <div class="centered-category top-padding"> 
        <h1 id=“scratch-projects”>My Scratch projects:</h1>
        <div class="horizontal-scroll flex flex-row"> 
          <div class="game-presentation-box">
                <iframe class="game-icon" src="https://turbowarp.org/805994032/embed" allowtransparency="true" frameborder="0" scrolling="no" allow="fullscreen"></iframe>
                <a href="https://scratch.mit.edu/projects/805994032/"><h3 style="text-align: center;">3D Minecraft</h3></a>
                <p style="text-align: center;">Minecraft recreation in Scratch</p>
          </div>
          <div class="game-presentation-box">
            <iframe class="game-icon" src="https://turbowarp.org/839012270/embed" allowtransparency="true" frameborder="0" scrolling="no" allow="fullscreen"></iframe>
            <a href="https://scratch.mit.edu/projects/839012270/"><h3 style="text-align: center;">3D Pathtracer</h3></a>
            <p style="text-align: center;">Render a 3D scene using pathtracing</p>
          </div>
          <div class="game-presentation-box">
            <iframe class="game-icon" src="https://turbowarp.org/753555952/embed" allowtransparency="true" frameborder="0" scrolling="no" allow="fullscreen"></iframe>
            <a href="https://scratch.mit.edu/projects/753555952/"><h3 style="text-align: center;">3D Engine</h3></a>
            <p style="text-align: center;">Render a 3D scene using rasterization and painter's algorithm</p>
          </div>
        </div>
      </div>
    </section>

    <script>

      function typeWriter(id, text, speed, callback) {
        let i = 0;
        function inner() {
          if (i < text.length) {
            document.getElementById(id).innerHTML += text.charAt(i);
            i++;
            setTimeout(inner, speed);
          } else if (callback) {
            callback(); // start next text when done
          }
        }
        inner();
      }

      typeWriter("Title", "Hey, I'm maDU59_", 40, () => {
          typeWriter("About me", "I'm an indie developer in my spare time, you can find some of my work here.", 12);
        }
      );

      var coll = document.getElementsByClassName("collapsible");
      var i;

      for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.maxHeight){
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
      }

      async function getUserDownloads(username) {
        const userModsUrl = `https://api.modrinth.com/v2/user/${encodeURIComponent(username)}/projects`;
        const userResp = await fetch(userModsUrl);
        const mods = await userResp.json(); // array of mod objects

        let totalDownloads = 0;
        for (const mod of mods) {
          const modResp = await fetch(`https://api.modrinth.com/v2/project/${mod.id}`);
          const modJson = await modResp.json();
          totalDownloads += modJson.downloads;
        }

        return totalDownloads;
      }

      // usage
      getUserDownloads("maDU59_").then(total => {
        document.getElementById("total-downloads").textContent = total + " on Modrinth";
      });
    </script>

  </body>
</html>